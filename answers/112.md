```sql
WITH CTE AS (
    SELECT DISTINCT V_ID, V_NAME, V_COLOR, SUM(CASE WHEN B_VOL IS NOT NULL THEN B_VOL ELSE 0 END) AS used
    FROM utB b
    RIGHT JOIN utV v
    ON b.B_V_ID = v.V_ID
    GROUP BY V_ID, V_NAME, V_COLOR
)
SELECT FLOOR((
    CASE WHEN R_LEFTOVER < G_LEFTOVER
    THEN CASE WHEN R_LEFTOVER < B_LEFTOVER
        THEN R_LEFTOVER
        ELSE B_LEFTOVER
        END
    ELSE 
        CASE WHEN G_LEFTOVER < B_LEFTOVER
        THEN G_LEFTOVER
        ELSE B_LEFTOVER
        END
    END
) / 255.0)
FROM (
    SELECT DISTINCT SUM(CASE V_COLOR WHEN 'R' THEN 255 - used ELSE 0 END) OVER() AS R_LEFTOVER, 
    SUM(CASE V_COLOR WHEN 'G' THEN 255 - used ELSE 0 END) OVER() AS G_LEFTOVER, 
    SUM(CASE V_COLOR WHEN 'B' THEN 255 - used ELSE 0 END) OVER() AS B_LEFTOVER
    FROM CTE
) CTE2
```